---
import Flutter from '../icons/Flutter.astro'
import Dart from '../icons/Dart.astro'
import GitHub from '@/icons/GitHub.astro'
import NodeJS from '@/icons/NodeJS.astro'
import Link from '@/icons/Link.astro'
import LinkButton from '@/components/LinkButton.astro'
import React from '@/icons/React.astro'
import JavaScript from '@/icons/JavaScript.astro'
import Briefcase from '../icons/Briefcase.astro'
import CodeIcon from '../icons/Code.astro'
import SectionTitle from './SectionTitle.astro'
import Container from './Container.astro'
import Tailwind from '@/icons/Tailwind.astro'
import Express from '@/icons/Express.astro'

type Tag = {
  name: string
  class: string
  icon: (_props: Record<string, any>) => any
}

type Project = {
  title: string
  description: string
  link: string
  image: string
  tags: Tag[]
  github?: string
}

const TAGS: Record<string, Tag> = {
  FLUTTER: {
    name: 'Flutter',
    class: 'bg-[#003159] text-white',
    icon: Flutter,
  },
  DART: {
    name: 'Dart',
    class: 'bg-[#003159] text-white',
    icon: Dart,
  },
  NODEJS: {
    name: 'Node.js',
    class: 'bg-emerald-950 text-white',
    icon: NodeJS,
  },
  REACT: {
    name: 'React.js',
    class: 'bg-[#003159] text-white',
    icon: React,
  },
  JAVASCRIPT: {
    name: 'JavaScript',
    class: 'bg-yellow-700 text-white',
    icon: JavaScript,
  },
  TAILWIND: {
    name: 'Tailwind',
    class: 'bg-[#003159] text-white',
    icon: Tailwind,
  },
  EXPRESS: {
    name: 'Express.js',
    class: 'bg-[#003159] text-white',
    icon: Express,
  },
}

const PROJECTS: Project[] = [
  {
    title: 'Inspira Te Ilumina',
    description: `App de educación financiera en la cual se enfatiza el hábito al ahorro. Además de ofrecer diversos servicios financieros y herramientas para ayudar en tu camino del ahorro. Disponible en AppStore y PlayStore.`,
    link: 'https://inspirateilumina.com/descarga',
    image: '/projects/inspira-app.webp',
    tags: [TAGS.FLUTTER, TAGS.DART, TAGS.NODEJS],
  },
  {
    title: 'Aythen | Web',
    description:
      'Crea y/o autogestiona tus herramientas empresariales digitales para liderar tu negocio a través de 6 sentidos esenciales.',
    link: 'https://aythen.com',
    image: '/projects/aythen.webp',
    tags: [TAGS.REACT, TAGS.JAVASCRIPT],
  },
  {
    title: 'CSV Data Toolkit',
    description:
      'Aplicación interactiva que permite importar, visualizar y gestionar archivos CSV. Incluye funciones para convertir montos de USD a PEN con el tipo de cambio actual obtenido de una API personalizada, editar y eliminar registros, y descargar la tabla modificada en un nuevo archivo CSV.',
    link: 'https://aythen.com',
    image: '/projects/csv-data-toolkit.webp',
    tags: [
      TAGS.REACT,
      TAGS.JAVASCRIPT,
      TAGS.NODEJS,
      TAGS.TAILWIND,
      TAGS.EXPRESS,
    ],
    github: 'https://github.com/Harurin5671/csv-data-toolkit',
  },
]
---

<Container id="proyectos">
  <div class="flex flex-col gap-y-16">
    <SectionTitle label="Proyectos">
      <CodeIcon class="size-7" />
    </SectionTitle>
    <div class="grid md:grid-cols-4 mt-6 gap-4">
      <div
        class="relative bg-dark-100 shadow dark:shadow-primary-50/10 dark:bg-dark-900 w-full rounded-3xl min-h-[340px] md:col-span-2 p-1 group overflow-hidden"
      >
        <figure class="w-full rounded-3xl overflow-hidden">
          <img
            class="w-full h-full min-h-[232px] object-cover group-hover:scale-105 group-hover:brightness-110 transition-all duration-300"
            src={PROJECTS[0].image}
            alt={PROJECTS[0].title}
          />
        </figure>
        <div class="p-6">
          <h1 class="font-bold text-lg text-black dark:text-white">
            {PROJECTS[0].title}
          </h1>
          <p class="mt-4 text-dark-700 dark:text-dark-200">
            <div class="h-[150px]">
              {PROJECTS[0].description}
            </div>
          </p>
          <ul class="flex gap-2 flex-wrap text-sm mt-4">
            {
              PROJECTS[0].tags.map((tag) => (
                <li>
                  <span
                    class={`flex gap-x-2 rounded-full text-xs ${tag.class} py-1 px-2 `}
                  >
                    <tag.icon class="size-4" />
                    {tag.name}
                  </span>
                </li>
              ))
            }
          </ul>
          <span
            class="absolute top-4 left-4 backdrop-blur-md bg-dark-600/50 py-1 px-2 rounded-full z-10 text-sm font-semibold text-dark-100"
          >
            Full Stack
          </span>
        </div>
      </div>

      <div
        class="relative bg-dark-100 shadow dark:shadow-primary-50/10 dark:bg-dark-900 w-full rounded-3xl min-h-[340px] md:col-span-2 p-1 group overflow-hidden"
      >
        <figure class="w-full rounded-3xl overflow-hidden">
          <img
            class="w-full h-full min-h-[232px] object-cover group-hover:scale-105 group-hover:brightness-110 transition-all duration-300"
            src={PROJECTS[1].image}
            alt={PROJECTS[1].title}
          />
        </figure>
        <div class="p-6">
          <h1 class="font-bold text-lg text-black dark:text-white">
            {PROJECTS[1].title}
          </h1>
          <p class="mt-4 text-dark-700 dark:text-dark-200">
            <div class="h-[150px]">
              {PROJECTS[1].description}
            </div>
          </p>
          <ul class="flex gap-2 flex-wrap text-sm mt-4">
            {
              PROJECTS[1].tags.map((tag) => (
                <li>
                  <span
                    class={`flex gap-x-2 rounded-full text-xs ${tag.class} py-1 px-2 `}
                  >
                    <tag.icon class="size-4" />
                    {tag.name}
                  </span>
                </li>
              ))
            }
          </ul>
          <span
            class="absolute top-4 left-4 backdrop-blur-md bg-dark-600/50 py-1 px-2 rounded-full z-10 text-sm font-semibold text-dark-100"
          >
            Frontend
          </span>
        </div>
      </div>

      <div
        class="relative bg-dark-100 shadow dark:shadow-primary-50/10 dark:bg-dark-900 w-full rounded-3xl min-h-[340px] md:col-span-4 md:flex md:flex-row-reverse md:items-center p-1 group overflow-hidden"
      >
        <figure class="w-full rounded-3xl overflow-hidden md:w-1/2 md:h-full">
          <img
            class="w-full h-full object-cover group-hover:scale-105 group-hover:brightness-110 transition-all duration-300"
            src={PROJECTS[2].image}
            alt={PROJECTS[2].title}
          />
        </figure>
        <div class="p-6 md:w-1/2">
          <h1 class="font-bold text-lg text-black dark:text-white mt-8">
            {PROJECTS[2].title}
          </h1>
          <p class="mt-4 text-dark-700 dark:text-dark-200">
            {PROJECTS[2].description}
          </p>
          <ul class="flex gap-2 flex-wrap text-sm mt-4">
            {
              PROJECTS[2].tags.map((tag) => (
                <li>
                  <span
                    class={`flex gap-x-2 rounded-full text-xs ${tag.class} py-1 px-2 `}
                  >
                    <tag.icon class="size-4" />
                    {tag.name}
                  </span>
                </li>
              ))
            }
          </ul>
          <span
            class="absolute top-4 left-4 backdrop-blur-md bg-dark-600/50 py-1 px-2 rounded-full z-10 text-sm font-semibold text-dark-100"
          >
            Full Stack
          </span>
          {
            PROJECTS[2].github && (
              <a
                class="flex flex-row items-center gap-2 absolute top-4 right-4 backdrop-blur-md bg-dark-600/50 py-1 px-2 rounded-full z-10 text-sm font-semibold text-dark-100"
                href={PROJECTS[2].github}
                target="_blank"
              >
                <Link class="size-4" />
                Code
              </a>
            )
          }
        </div>
      </div>
    </div>
  </div>
</Container>

<!-- {
  PROJECTS.map(({ image, title, description, tags, link, github }) => (
    <div class="relative bg-dark-100 shadow dark:shadow-primary-50/10 dark:bg-dark-900 w-full rounded-3xl min-h-[340px] md:col-span-2 p-1 group overflow-hidden">
      <figure class="w-full rounded-3xl overflow-hidden">
        <img
          class="w-full h-full min-h-[232px] object-cover group-hover:scale-105 group-hover:brightness-110 transition-all duration-300"
          src={image}
          alt={title}
        />
      </figure>
      <div class="p-6">
        <h1 class="font-bold text-lg text-black dark:text-white">
          {title}
        </h1>
        <div class="h-[150px]">
          <p class=" mt-4 text-dark-700 dark:text-dark-200">
            {description}
          </p>
        </div>
        <ul class="flex gap-2 flex-wrap text-sm mt-4">
          {tags.map((tag) => (
            <li class="">
              <span
                class={`flex gap-x-2 rounded-full text-xs ${tag.class} py-1 px-2 `}
              >
                <tag.icon class="size-4" />
                {tag.name}
              </span>
            </li>
          ))}
        </ul>
      </div>
    </div>
  ))
} -->
